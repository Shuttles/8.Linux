# vim的简单使用（陈哲宇2019.7.17）

## 0、VIM的四种模式

0. 普通模式（阅读模式）

1. 命令模式： 按“：”进入命令模式。

2. 插入模式：I、i、A、a、O、o均可进入insert模式。

3. 可视模式：按v进入可视模式。

   PS：123模式下，按ESC可回到普通模式！！！！

## 一、简单命令

1. 光标在屏幕中的移动既可以用箭头键，也可以用hjkl字母键。（分别是左、下、上、右）

2. 按“e"可以移动光标至下一个单词。

3. 按”$“可以移动光标至行尾。

4. 欲进入Vim编辑器（从终端），请输入：vim 文件名 <回车>  。如果这个文件不存在则会新建一个文件名为这个的文件）

5. 欲退出，请输入 <ESC>  ：q！<回车> （放弃所有改动）。                                             

   ​				或输入 <ESC> ： wq <回车> （保存改动）。

6. 在正常模式下删除光标所在位置的字符，请按：x 。

7. 欲插入或添加文本，请输入：

   ​		i  输入与插入文本 <ESC>     在光标前插入文本

   ​		A 输入欲添加文本<ESC>     在一行后添加文本

##  

## 二、删除类命令（delete）

1. 欲从当前光标删除至下一个单词，请输入：dw。

2. 欲从当前光标删除至当前单词末尾，请输入：de。

3. 欲从当前光标删除至当前行末尾，请输入：d$。

4. 欲删除整行（当前光标所在行），请输入：dd。

5. 欲重复一个动作，请在该动作（motion）前加上一个数字，比如删除两个单词就是 d2w。

6. 欲移动光标到行首，请按数字0键。

7. 欲撤销以前的操作，请输入：u（小写）。

   欲撤销在一行中所做的改动，请输入：U（大写）。

   欲撤销之前的撤销命令，恢复以前的操作结果，请输入：ctrl—r。

## 三、更改类命令（change）

1. 要重新导入最近一次删除的文本内容，请按小写字母p，该操作可以将最近一次删除的文本内容置于光标之后。如果最后一次删除的是一个整行，那么该行将置于当前光标所在行的下一行。

2. 要替换（replace）光标所在位置的字符，请输入小写的r和要替换掉原位置字符的新字符即可。

3. 要替换（replace）光标所在位置的单词，请输入大写的R和要替换掉原位置单词的新单词即可。（输入完按ESC）

4. cw、ce、c$分别与删除类命令相对应，motion前也可以加入数字表示动作重复次数。（操作符y为复制，也有对应的yw、ye，不过要先进入可视模式）

   PS：ce命令不仅仅是删除，它也让我进入插入模式，所以删除完之后要按<ESC>退出插入模式。

## 四、字符串操作

1. | 按键   | 对应操作                                       |
   | ------ | ---------------------------------------------- |
   | ctrl-g | 用于显示当前光标所在位置和文件状态信息         |
   | G      | 用于将光标跳转至文件最后一行                   |
   | gg     | 用于将光标跳转至文件第一行                     |
   | xxxG   | 用于将光标跳转至xxx行                          |
   | xxxgg  | 同上                                           |
   | ctrl-o | 跳转光标至上一次的位置                         |
   | ctrl-i | 跳转光标至下一次的位置（前提是已经按了ctrl-o） |

   

2. | 按键                  | 对应操作                             |
   | --------------------- | ------------------------------------ |
   | /一个字符串           | 在当前所编辑的文档中正向查找该字符串 |
   | ？一个字符串          | 在当前所编辑的文档中反向查找该字符串 |
   | 完成一次查找之后按“n” | 重复上一次的命令                     |
   | 完成一次查找之后按“N” | 反方向重复上一次的命令               |

   

3. 如果光标当前位置是（、）、[、]、{、}，按==%==会将光标移动到配对的括号上。（在程序调试时，这个功能用来查找不配对的括号是很有用的）

4. | 按键            | 操作                                           |
   | --------------- | ---------------------------------------------- |
   | :s/old/new      | 在一行内替换==第一个==字符串old为新的字符串new |
   | :s/old/new/g    | 在一行内替换所有                               |
   | :#,#s/old/new/g | 在某两行之内替换所有（两个#分别代表行号）      |
   | :%s/old/new/g   | 全文替换                                       |
   | :%s/old/new/gc  | 进行全文替换时询问用户确认每个替换             |

   

## 五、可视化模式与命令模式

### 1）可视化模式：

​		按v进入可视化模式进行文本选取，我可以四处移动光标使选取区域变大或变小。接着我可以使用一个操作符对选中文本进行操作（例如按d会删除，y会复制，==w FILENAME==会保存到对应文件名的文件中）。

​		ctrl - V 进入块可视化模式，可以对列进行操作，若想在一列前写一个字符，选中列后按shift-i添加字符，然后按两下esc即可。

### 2）命令模式：

| 按键        | 对应的操作                                               |
| ----------- | -------------------------------------------------------- |
| :!command   | 执行一个外部命令command                                  |
| :w FILENAME | 可将整个正在编辑的文件保存到对应文件名的文件中           |
| :r FILENAME | 可提取磁盘文件FILENAME并将其插入到当前文件的光标位置后面 |
| :r   !ls    | 可以读取ls的命令的输出并将其放置到当前文件的光标位置后面 |

## 六、设置类命令的选项

| 按键                 | 对应的操作           |
| -------------------- | -------------------- |
| :set ic(ignore case) | 搜索时忽略大小写     |
| :set noic            | 禁用忽略大小写       |
| :set hls is          | 高亮显示搜索到的单词 |
| :set nohls           | 禁用高亮             |

## 七、其他

1. | 按键              | 对应的操作                                                   |
   | ----------------- | ------------------------------------------------------------ |
   | :help             | 打开帮助窗口                                                 |
   | :help cmd         | 可以找到关于cmd命令的帮助                                    |
   | ctrl-w            | 可以使您在窗口之间跳转                                       |
   | ctrl-d            | 当输入:command时，按ctrl-d可以查看可能的补全结果。按<TAB>可以使用一个补全 |
   | :help user-manual | vim的用户手册                                                |

   