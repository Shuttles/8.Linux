

# 1.简介

1. 之前的并发都是用多进程/多线程写的

2. **多进程**

   + 受限于CPU核心数
   + 受限于进程数量
   + 进程创建/销毁代价太高
   + 进程内存隔离导致进程间通信代价高

3. **多线程**

   + 受限于CPU核心数

4. **共同缺点**：

   是**阻塞IO**

   + 阻塞IO响应能力比较低
   + 如果换成非阻塞IO，就没办法感知IO了，只能不断轮询，效率也比较低

5. **IO多路复用**

   + 可以感知IO是否可读/可写/出错，判断IO是否就绪





# 3.epoll

1. **边缘模式**更**高效**，就是如果感应到了event就感应到了，如果它过去了，就当做没感应到
2. **水平模式**不管event过没过去，都能感应到
3. 通常服务器里用**边缘模式**，因为没来得及响应的话，过段时间再去响应没什么意义



# 比较

1. select需要打开文件，os对每一个进程能打开的文件是有限制的，默认最大值1024，所以select最高并发是1024个
2. select中有三个set，而poll中只有一个数组和两组events，更进一步，epoll中只有一组events